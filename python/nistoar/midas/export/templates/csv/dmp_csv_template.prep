{{script}}
# DMP CSV Template for Data Management Plans
# This template renders DMP records in CSV format with essential fields
# Required fields: Name, ID, Type, Owner, Status Fields, Data Fields
{{endscript}}
"Name","ID","Type","Owner","Status_State","Status_Action","Status_CreatedDate","Status_ModifiedDate","Status_Message","Title","ProjectDescription","StartDate","DmpSearchable","Grant_Source","Grant_ID","Keywords","DataSize","SizeUnit","SoftwareDevelopment","TechnicalResources","DataDescription","DataCategories","PreservationDescription"
{{for record in records}}
"{{record.get('name', 'N/A').replace('"', '""')}}","{{record.get('id', 'N/A')}}","DMP","{{record.get('owner', 'N/A')}}","{{record.get('status', {}).get('state', 'N/A')}}","{{record.get('status', {}).get('action', 'N/A')}}","{{record.get('status', {}).get('createdDate', 'N/A')}}","{{record.get('status', {}).get('modifiedDate', 'N/A')}}","{{record.get('status', {}).get('message', 'N/A').replace('"', '""')}}","{{record.get('data', {}).get('title', 'N/A').replace('"', '""')}}","{{record.get('data', {}).get('projectDescription', 'N/A').replace('"', '""')}}","{{record.get('data', {}).get('startDate', 'N/A')}}","{{record.get('data', {}).get('dmpSearchable', 'N/A')}}","{{record.get('data', {}).get('funding', {}).get('grant_source', 'N/A')}}","{{record.get('data', {}).get('funding', {}).get('grant_id', 'N/A')}}","{{'; '.join(record.get('data', {}).get('keywords', []))}}","{{record.get('data', {}).get('dataSize', 'N/A') if record.get('data', {}).get('dataSize') is not None else 'N/A'}}","{{record.get('data', {}).get('sizeUnit', 'N/A')}}","{{record.get('data', {}).get('softwareDevelopment', {}).get('development', 'N/A')}}","{{'; '.join(record.get('data', {}).get('technicalResources', []))}}","{{record.get('data', {}).get('dataDescription', 'N/A').replace('"', '""')}}","{{'; '.join(record.get('data', {}).get('dataCategories', []))}}","{{record.get('data', {}).get('preservationDescription', 'N/A').replace('"', '""')}}"
{{endfor}}
